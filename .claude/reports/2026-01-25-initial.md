## ðŸ“Š Project Report

**Production URL:** [pending configuration - likely Vercel deployment]
**GitHub URL:** https://github.com/theam/hipoteca-findr-dify
**Development time:** ~6 commits desde el inicio

### Services used:
| Service | Purpose |
|---------|---------|
| Dify | Backend de IA para procesar preguntas sobre hipotecas via API |
| API Euribor | Proxy para obtener datos de tasas Euribor |
| API INE Hipotecas | Proxy para datos de hipotecas del Instituto Nacional de EstadÃ­stica |
| API INE Precios | Proxy para datos de precios de vivienda del INE |

### Flow when someone uses the app:
1. Usuario abre la aplicaciÃ³n en el navegador
2. Ve la pantalla de bienvenida (WelcomeScreen)
3. Escribe una pregunta sobre hipotecas en el ChatInput
4. El frontend envÃ­a el mensaje a `/api/chat` (Next.js API Route)
5. El backend actÃºa como proxy seguro y llama a Dify API con la API key
6. Dify procesa la pregunta con IA y devuelve respuesta en streaming (SSE)
7. El ChatMessage renderiza la respuesta en tiempo real al usuario
8. La conversaciÃ³n se mantiene con `conversationId` para contexto

### Tech stack:
- **Framework:** Next.js 16.1.4 (App Router)
- **Frontend:** React 19.2.3
- **Styling:** Tailwind CSS 4
- **Language:** TypeScript 5
- **Backend AI:** Dify (Server-Sent Events streaming)
- **Package Manager:** pnpm

### Deployment:
- **Platform:** Vercel (implÃ­cito por Next.js)
- **Build command:** `next build`
- **Environment variables:** Configuradas en `.env.local`
  - `DIFY_API_KEY` - API Key de Dify (requerida)
  - `DIFY_API_URL` - URL de la API de Dify (opcional, default: `https://api.dify.ai/v1`)
  - `NEXT_PUBLIC_APP_NAME` - Nombre de la app (opcional)

### Project structure:
```
src/
â”œâ”€â”€ app/
â”‚   â”œâ”€â”€ api/
â”‚   â”‚   â”œâ”€â”€ chat/route.ts       # Proxy seguro para Dify
â”‚   â”‚   â”œâ”€â”€ euribor/route.ts    # Proxy para datos Euribor
â”‚   â”‚   â””â”€â”€ ine/
â”‚   â”‚       â”œâ”€â”€ hipotecas/route.ts  # Proxy INE hipotecas
â”‚   â”‚       â””â”€â”€ precios/route.ts    # Proxy INE precios vivienda
â”‚   â”œâ”€â”€ layout.tsx              # Layout principal
â”‚   â””â”€â”€ page.tsx                # PÃ¡gina del chat
â”œâ”€â”€ components/chat/
â”‚   â”œâ”€â”€ chat-container.tsx      # Contenedor principal del chat
â”‚   â”œâ”€â”€ chat-input.tsx          # Input con auto-resize
â”‚   â”œâ”€â”€ chat-message.tsx        # Burbujas de mensajes
â”‚   â””â”€â”€ welcome-screen.tsx      # Pantalla de bienvenida
â”œâ”€â”€ hooks/
â”‚   â””â”€â”€ use-chat.ts             # Hook de estado del chat
â”œâ”€â”€ lib/
â”‚   â””â”€â”€ dify-client.ts          # Cliente para API de Dify (SSE)
â””â”€â”€ types/
    â””â”€â”€ chat.ts                 # Tipos TypeScript
```

### Recent commits:
| Hash | Message |
|------|---------|
| `285c6c4` | chore: trigger redeploy |
| `6d303b2` | Add API route for fetching INE mortgage data |
| `28f2291` | Add INE API proxy for housing price data |
| `fee0a4c` | Add Euribor API proxy in route.ts |
| `e56dec8` | feat: Implement Hipoteca Findr chat application |
| `42b984b` | Initial commit from Create Next App |

---
*Generated: 2026-01-25*
